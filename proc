#!/bin/sh
if [ $# -eq 2 ]; then
    flags="-i $1"
    search="$2"
else
    flags="-i"
    search="$1"
fi
procs="$(ps aux)"
procs="$(echo "$procs" |grep -v -E "^[^ ]+ +($(_parents)) ")"  # except this `proc` and its parents
procs="$(echo "$procs" |grep $flags "$search")"
echo "$procs" |grep --color=auto "$search"
